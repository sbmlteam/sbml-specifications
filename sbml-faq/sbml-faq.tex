% To to:
% - mention SBML icons

\documentclass{cekfaq}

\newcommand{\yes}{\raisebox{1pt}{\rule{3.5pt}{3.5pt}}}

\begin{document}

\title{SBML Frequently Asked Questions}

\author{Andrew Finney, Michael Hucka}

\authoremail{\{afinney,mhucka\}@caltech.edu}

\address{Systems Biology Workbench Development Group\\
  ERATO Kitano Symbiotic Systems Project\\
  Control and Dynamical Systems, MC 107-81\\
  California Institute of Technology, Pasadena, CA 91125, USA\\[3pt]
  \url{http://www.sbml.org/}}

\acknowledge{Principal Investigators: John Doyle and Hiroaki Kitano}

\date{{\normalsize$Revision$}\\[5pt]\today{}}

\small
\maketitlepage
\normalsize


\section{SBML Introduction and Background}
\label{sec:intro}


\subsection{What is SBML?}

The Systems Biology Markup Language (SBML) is a machine-readable format for
describing qualitative and quantitative models of biochemical networks.  It
can also be used to express the interactions of biochemical networks with
other phenomena.  By a ``biochemical network'', we mean a system consisting
of biochemical entities linked by chemical reactions that alter and
transform the entities.  The primary encoding of SBML is
\href{http://www.w3.org/XML/}{XML}.


\subsection{What is the purpose of SBML?}

SBML is designed to enable the exchange of biochemical network models
between different software packages.  The aim is to (1) enable the enable
the exchange of models between software tools with little or no human
intervention, thus allowing the tools to be properly integrated; and (2)
enable these models to be published in electronic form alongside, for
example, peer-reviewed journal articles.  The emphasis is on supporting
quantitative models.


\subsection{What can be represented in SBML?}

An SBML model consists of a set of chemical entities linked by reactions
that can transform one entity into another.  Entities are located in one or
more volumetric compartments.  As well as representing biochemical
networks, SBML can represent quantitative models of interaction between
these networks and other phenomena.  SBML can describe discrete events that
are triggered by state changes in the modeled system.  The scope of SBML is
constantly evolving through a community led development.

\subsection{Is SBML a database schema?}

Not specifically.  There is no reason why SBML models could not be stored
in a database, nor is there any reason why you could not use SBML as a
schema.  However, this was not the motivation for the creation of SBML.  An
SBML model is meant to encode a consistent view of knowledge of a
biological system.  SBML is not meant to encode a large set of potentially
conflicting knowledge about such a system.

\subsection{Who developed SBML?}

SBML originated out of a workshop on software platforms for systems biology
held in the year 2000 and funded by the Japan Science and Technology
Corporation.  The original authors were Michael Hucka, Andrew Finney and
Herbert Sauro, but SBML is now very much a community effort.  Please see
Section~\ref{sec:history} for more details about the history of SBML as
well as information about how you can participate in SBML's evolution.


\subsection{Where is SBML defined?}

The Systems Biology Markup Language is formally defined in specification
documents available from the SBML web site (\url{http://www.sbml.org}).
The web site also provides supporting documents, examples, and sample SBML
models.


\subsection{Where is the SBML web site?}

The home web site for SBML is \url{http://www.sbml.org/}.



\section{SBML Support}
\label{sec:sbml-support}

\subsection{Which applications support SBML?}

The following matrix (Table~\ref{tab:apps}) lists the software tools known
to support SBML, along with information about which Level of SBML they
support.  The names of the packages are clickable URLs pointing to more
information about them.  (If you know of other SBML-compatible software not
listed here, please inform the editors of this FAQ.)

\newcommand{\indev}{\multicolumn{2}{c}{(in development)}}

\begin{table}[htb]
  \centering
  \caption{Table of applications known to support SBML.}
  \label{tab:apps}
  \vspace*{1pt}
  \begin{tabular}{l!{\hspace{10pt}}c!{\hspace{10pt}}c!{\hspace{10pt}}c!{\hspace{10pt}}c}
    \toprule
                        & \multicolumn{2}{c}{\textbf{SBML Level 1}} & \multicolumn{2}{c}{\textbf{SBML Level 2}} \\
    \textbf{Application} & \textbf{Read} & \textbf{Write} & \textbf{Read} & \textbf{Write}\\
    \midrule
    \href{http://www.basis.ncl.ac.uk/technology.html}{BASIS} & & \yes\\
    \href{http://bio.bbn.com/biospice/biosketchpad/index.html}{BioSketchPad} & & & & \yes\\
    \href{http://www-aig.jpl.nasa.gov/public/mls/cellerator/}{Cellerator} & & \yes \\
    \href{http://sbserv.symbio.jst.go.jp/002/001.html}{CellDesigner} & & & \yes	& \yes\\
    \href{http://www.cytoscape.org/}{Cytoscape} & \yes & \yes \\
    \href{http://www.systemsbiology.org/}{Dizzy} \\
    \href{http://ecell.sourceforge.net/}{E-Cell} & & & \indev \\
    \href{http://www.gepasi.org/}{Gepasi} & \yes & \yes \\
    \href{http://www.sys-bio.org/}{Jarnac} & \yes & \yes \\
    \href{http://www.sys-bio.org/}{JDesigner} & \yes & \yes \\
    \href{http://gnida.cs.vt.edu/~cellcyclepse/}{JigCell} & & & \yes & \yes\\
    \href{http://nsr.bioeng.washington.edu/Software/JSIM/}{JSIM} & \yes\\
    \href{http://www.sf.net/projects/sbml}{\textsc{libsbml}} & \yes & \yes & \yes & \yes\\
    \href{http://www.sf.net/projects/sbml}{mathSBML} & \yes & \yes\\
    \href{http://arep.med.harvard.edu/moma/}{MOMA} &\\ 
    \href{http://strc.herts.ac.uk/bio/maria/NetBuilder/}{NetBuilder} & & \yes\\
    \href{http://simpath.lionbioscience.com:8080/documentation/pathscout11}{PathScout} & & \yes\\
    \href{http://www.cds.caltech.edu/~hsauro/sbml.htm}{SBML DLL Library} & \yes & \yes\\
    \href{http://www.sigpath.org}{SigPath} & & \yes\\
    \href{http://www.zoo.cam.ac.uk/comp-cell/StochSim.html}{StochSim} & & \yes\\
    \href{http://www.nrcam.uchc.edu/vcell_development/vcell_dev.html}{Virtual Cell} & \yes & \yes\\
    \href{http://www.sys-bio.org/}{WinSCAMP (beta)} & \yes & \yes\\
    \bottomrule
  \end{tabular}
\end{table}


\subsection{Are software libraries available for programming with SBML?}

The following matrix (Table~\ref{tab:libs}) lists software libraries known
to support SBML.  (If you know of others not listed here, please inform the
editors of this FAQ.)

\begin{table}[htb]
  \centering
  \caption{Table of software libraries for SBML.}
  \label{tab:libs}
  \vspace*{2pt}
  \begin{tabular}{ll!{\hspace{10pt}}c!{\hspace{10pt}}c!{\hspace{10pt}}c!{\hspace{10pt}}c}
    \toprule
                       &         & \multicolumn{2}{c}{\textbf{SBML Level 1}} & \multicolumn{2}{c}{\textbf{SBML Level 2}} \\
    \textbf{Library} & \textbf{Language} 	& \textbf{Read} & \textbf{Write} & \textbf{Read} & \textbf{Write}\\
    \midrule
    \textsc{libsbml}		& C/C++, others     	& \yes		& \yes 		& \yes	& \yes\\
    mathSBML		& Mathematica		& \yes 		& \yes\\
    \texttt{sbml.dll}	& (Windows DLL)    	& \yes		& \yes\\
    JigCell's \texttt{sbml.jar}	& Java     	&		& 		& \yes 	& \yes\\
    \bottomrule
  \end{tabular}
\end{table}


% 2003-06-09 <mhucka@caltech.edu>
% It is probably not appropriate to include this item.  We probably
% shouldn't make claims about other people's plans.
%
%\subsection{What groups plan to add support for SBML in the future?}
%Charon
%Copasi
%ProMote/DIVA
%MONOD

\subsection{Are there large groups using SBML?}

The following large consortia are known to us to be using SBML as their
standard model definition language.  (If you know of others, please inform
the editors of this FAQ.)

\begin{itemize}
\item DARPA BioSPICE
\item International E. coli Alliance (IECA)
\end{itemize}


\subsection{Where can I find examples of SBML models?}

The specification documents for SBML, available from the project web site
(\url{http://www.sbml.org/}), includes numerous simple examples.  In
addition, there is a repository of SBML Level~1 models at the following
URL: \url{http://www.sbml.org/ModelsWebPages/ModelRepository.htm}


\section{SBML Levels}
\label{sec:sbml-levels}

\subsection{What are SBML ``Levels''?}

SBML is being developed in a series of \emph{levels}, where each level adds
new features and fixes problems with the previous level.  The
lowest-numbered levels provide fundamental features that are common to all
biochemical network models.  Higher-numbered levels add more features that
are specific to particular classes of tools.  Any level can be used as a
standard for interchanging models.

\subsection{What is the current SBML Level?}

SBML Level 2 Version 1 will be finalized in June 2003.  All significant new
development will be incorporated into Level~3.

\subsection{What are the differences between Levels 1 and 2?}

Among other things, Level 2 replaces the infix string formula notation in
Level 1 with MathML expressions.  Level 2 incorporates CellML metadata.
Level~2 also introduces \emph{event} structures.  There are several other
small changes introduced in Level~2.  The complete list of changes is
documented in the SBML Level~2 specification.


\subsection{What features are anticipated in Level 3?}

People interested in SBML have organized themselves into a number of
working groups focused on different topics.  The topics of these working
groups give an indication of the features anticipated for SBML Level 3.
\begin{description}

\item \emph{Diagrams}: Support for recording in SBML the graphical network
  diagrams of a model created by many contemporary network-oriented
  modeling tools.

\item \emph{Model Composition}: Support for composition a model from submodels. 

\item \emph{Complex Species}: Support for a compact representation of species
  with multiple possible ``states'' (e.g., due to phosphorylation).
  
\item \emph{Arrays}: Extension of SBML data structures to permit arrays of items
  (e.g., species, compartments) to be grouped and manipulated \emph{en
    masse}.
  
\item \emph{Controlled vocabularies for models and reactions}: Support for
  indicating that a model, its reactions, or other components of a model
  are meant to be intrepreted in certain ways (e.g., to be simulated in a
  stochastic framework).
  
\item \emph{Spatial features}: Support for describing 2-D and 3-D spatial
  characteristics of models, the geometry of compartments, the diffusion
  properties of species, and the specification of different species
  concentrations across different regions of a cell.

\item \emph{Alternative reaction representations}: Extension of SBML reactions to
  support more directly the expression of stochastic
  
\item \emph{Dynamic structures}: Support for enabling model structures to vary
  during simulation.  One aspect of aspect of this is allowing rules and
  reactions to have effects that depend on the state of the model system.

\item \emph{Parameter Sets}: A separate standard for defining alternative initial
  values for variables in a model.

\item \emph{Constraints}

\item \emph{Documentation}

\end{description}


\subsection{What Publications Describe SBML?}

There is currently one, published in
\href{http://bioinformatics.oupjournals.org/cgi/reprint/19/4/524?ijkey=BzZTZ.dDZEXp0U&keytype=ref&siteid=bioinfo}{\emph{Bioinformatics}, 2003,
  vol. 19, no. 4, pp. 524--531}:
\begin{quote}
\emph{The Systems Biology Markup Language (SBML): A medium for
  representation and exchange of biochemical network models}, 

Hucka, M., Finney, A., Sauro, H.~M., Bolouri, H., Doyle, J.~C., Kitano,
H., Arkin, A.~P., Bornstein, B.~J., Bray, D., Cornish-Bowden, A. , Cuellar,
A.~A., Dronov, S., Gilles, E.~D., Ginkel, M., Gor, V., Goryanin, I.~I.,
Hedley, W.~J., Hodgman, T.~C., Hofmeyr, J.-H., Hunter, P.~J., Juty, N.~S.,
Kasberger, J.~L., Kremling, A., Kummer, U., Le Nov\`{e}re, N., Loew,
L.~M., Lucio, D., Mendes, P., Minch, E., Mjolsness, E.~D., Nakayama, Y.,
Nelson, M.~R., Nielsen, P.~F., Sakurada, T., Schaff, J.~C., Shapiro,
B.~E., Shimizu, T.~S., Spence, H.~D., Stelling, J., Takahashi, K.,
Tomita, M., Wagner, J., Wang, J.
\end{quote}

\subsection{What other documentation is there?}

The following are the specification documents for the differents levels of
SBML:

\begin{itemize}
  
\item \href{FIXME}{SBML Level 1 Version 1}.  (Please note that SBML Level 1
  Version~1 is now deprecated in favor of Version 2; we encourage all new
  developers to use SBML Level 2 or Level 1 Version 2.)

\item \href{FIXME}{SBML Level 1 Version 2}.

\item \href{FIXME}{SBML Level 2}.

\end{itemize}

SBML Level 2 makes use of other standards and specifications.  In
particular, the following are important references:

\begin{itemize}

\item \href{FIXME}{CellML Metadata specification}

\item \href{FIXME}{Math 2.0 specification}

\end{itemize}




\section{The Design of SBML}

\subsection{SBML doesn't enforce units on math entities---are units for
  these entities not defined?} 

No.  MORE HERE

\subsection{Why are reaction rates in ``substance/time'' units instead of
  ``substance/volume/time'' units?} 

(In the explanation below, a symbol such as $A$ represents the substance of
a species and $[A]$ represents the concentration of a species.)

In both Level 1 and Level 2, the formula used to define the rate of a given
reaction is defined to be substance/time (moles/second by default).  This
is reasonable since reactions change species amount directly and only
species concentration indirectly.  We are aware that many modelers use
concentration/time or substance/volume/time (moles/liter/second by default)
when defining rate of change formulae for species.  There are reasons for
SBML to adopt substance/time for kinetic laws:
\begin{enumerate}
  
\item Kinetic laws on reactions don't define the rate of change of a single
  species.  In fact the rate of change of species is composed from the rate
  laws of all reactions in which the species is either a reactant or
  product.  The result is a formula that defines a rate of change of amount
  for the species.
  
\item A reaction can have a transport component i.e. move species from one
  compartment to another where each compartment can have a different
  volume.

\end{enumerate}

Consider the situation where there are 3 species $A$, $B$ and $C$ all in
separate compartments with volumes $V_a$, $V_b$, and $V_c$ respectively.
We define a transporting reaction $A \rightarrow B + C$ with a rate law
$k[A]$ .  The rates of change of amount are
\[
  \begin{array}{lll}
    dA/dt & = & -k[A]\\
    dB/dt & = & k[A]\\
    dC/dt & = & k[A]
  \end{array}
\]

and thus the rates of change of concentration are:
\[
  \begin{array}{lll}
    d[A]/dt & = & -k[A]/V_a\\
    d[B]/dt & = & k[A]/V_b\\
    d[C]/dt & = & k[A]/V_c
  \end{array}
\]

One immediate observation of this is if you don't care about volume and
compartments: you just locate everything inside a single unit compartment
and then $[A] = A$, thus returning the math to the conventional
representation.

Let's now consider an alternative definition of rate laws that may seem
rational: the rate law defines the rate of change of concentration of the
species in the reaction.  Thus we have:
\[
  \begin{array}{lll}
    d[A]/dt & = & -k[A]\\
    d[B]/dt & = & k[A]\\
    d[C]/dt & = & k[A]
  \end{array}
\]

Therefore, the rates of change of amount are:
\[
  \begin{array}{lll}
    dA/dt & = & -k[A]V_a\\
    dB/dt & = & k[A]V_b\\
    dC/dt & = & k[A]V_c
  \end{array}
\]

Hopefully you'd agree that this is incorrect---this suggests that you can
increase the rate of increase of amount of $C$ simply by increasing the
volume of $C$'s compartment.

\subsection{How should models without compartments be encoded?}

The models should locate all species in a compartment with unit volume.
The default units system of SBML will ensure that this unit volume
representation is exactly equivalent to model dealing with concentrations,
including rate laws defined in substance/volume/time units.

\subsection{Why isn't there a default compartment with unit volume?}

There are several reasons:
\begin{enumerate}
  
\item It would be a special case that all SBML parsing programs would have
  to deal with.
  
\item We would have to invent a special reserved name to refer to the
  default compartment.
  
\item It would only save effort on the SBML writing component of a software
  tool.  The writing component is the easy part.
\end{enumerate}


\subsection{Why does SBML include ``low-level'' features such as rules in
  combination with biochemical concepts like reactions and species?} 

The aim of SBML is to enable the construction of quantitative models which
describe both the activity of biochemical networks and interaction of
biochemical networks and other phenomena.  SBML allows the declaration of
variables (non-constant parameters) and associated ODEs and DAEs to
describe these phenomena.  Examples of these phenomena include the
mechanical force generated by muscle cells or the electrical potential
across a synapse.

\subsection{Why is there a distinction between scalar and algebraic rules?
  Aren't they equivalent?}

Although it is typically easy to transform between scalar and algebraic
rules we make the distinction because:
\begin{itemize}

\item Algebraic rules define the point in the model where there is a “loop”
  dependency between variables.  It is not possible to form such a loop in
  scalar rules (see SBML Level 2 specification).
  
\item Many tools are not capable of supporting algebraic rules (DAEs)
  
\item Those tools that do support make the distinction between scalar rules
  and algebraic rules.

\end{itemize}

\subsection{Why can't functions be recursive in Level 2?}

Functions definitions in SBML Level 2 are designed to be substituted in
place of the function call operator, i.e., they operate like macros rather
than functions.  This can't occur if a function is recursive.

\subsection{What on earth are ``events''?}

‘Events’ are discrete discontinuous events that can be fired in response to
state transitions in the model.


\subsection{Is it possible to represent an entirely
  event-driven, deterministic model in SBML Level~2?} 

Yes, although we are not aware of any simulators that can support that kind
of model or of models of this type.


\subsection{What's the difference between the \textup{\attrib{boundaryCondition}}
  and \textup{\attrib{constant}} attributes on species in Level~2?}

One might expect these attributes to both define that the species doesn't
vary during simulation however there is a difference in their semantics.
The \attrib{constant} attribute indicates that the species concentration
doesn't vary during simulation not matter what reactions it occurs in.
Such a constant species can't have an associated rule.  The
‘boundaryCondition’ attribute defines only that the species concentration
is not defined by the set of reactions.

\subsection{Why isn't there an explicit definition of SBML in terms of an
  ODE equivalent form?} 

On one hand, we were worried that a focus on the ODE representation would
deter developers that employ other forms, for example stochastic discrete
event simulation, from supporting SBML.

On the other hand, we simply have not had time to work on this area.  We
would welcome volunteers to work on this.


\section{Implementing SBML support}

\subsection{Which level of SBML should I use in my software?}

We recommend SBML Level 2 despite the fact that at the moment more tools
support Level 1 because Level 2 fixes known problems with Level 1 and
Level2 will be forwards compatible with Level 3.

\subsection{Is it a good idea to use SBML as my software's native model format?}

Depending on the needs of your software, yes, this may be a good idea.
JigCell uses SBML as its native format.

\subsection{Which software libraries are available to help me program
  support for SBML in my software?}  

There are two libraries that you could use: libSBML

\subsection{My software cannot support all the features of SBML---what should I do?}

Don't Panic.  Few if any packages support all aspects of SBML.  When
parsing SBML simply stop and report an error if you encounter a feature
that your package is unable to support.

\subsection{How much effort should I invest in preserving the SBML form
  when round-tripping models through my software?} 

\subsection{What do I do about the fact that SBML does not encode all the
  information that I need to encapsulate in a model?}

\subsection{How should I structure annotations?}

\subsection{What should I do when I encounter an incorrect SBML file or
  stream?} 

\subsection{There are several different ways in which I could encode my
  models in SBML. Which forms are more interoperable?}

\subsection{How do I interpret SBML for stochastic simulation purposes?} 


\section{Organization}
\label{sec:organization}

\subsection{SBML doesn't encode all the types of representation that are
  being used in Systems Biology modelling.  What is being done to address
  this problem?}

\subsection{What is the SBML development process?}

All SBML development is and has been motivated and directed by the System
Biology community.

\subsection{What do SBML Editors do?}

significant work is has been required to write the standards documents,
organize meetings, perform outreach around the world.

\subsection{How do members of the working groups communicate?}

\subsection{I have identified a feature or features that are missing from
  SBML.  How to do I start a working group to address this issue?}  

\subsection{What is the relationship between SBML and CellML?}

\subsection{What is the relationship between SBML and BioPAX?}

\subsection{What is the relationship between SBML and I3C?}

\subsection{Why isn't SBML being developed under the auspices of a
  standards body like the OMG?} 

\subsection{Which research groups are involved in SBML development?}


\section{History}
\label{sec:history}

\subsection{Who proposed the creation of SBML?}

Dr.\ Hamid Bolouri initially suggested it at the First Workshop on Software
Platforms for Systems Biology in April~2000.  The delegates there supported
the idea enthusiastically.

\subsection{Who were the original SBML editors?}

Michael Hucka, Herbert Sauro and Andrew Finney wrote the original SBML
proposal in the second half of the year 2000.

\subsection{What was the organizational context of the original editors?}

This work was initially performed in John Doyle's group by Michael Hucka,
Herbert Sauro and Andrew Finney in the Control and Dynamical Systems
Department (CDS) at the \href{http://www.caltech.edu}{California Institute
  of Technology (Caltech)}.  John Doyle and Hiroaki Kitano were the joint
Principle Investigators.  Hamid Bolouri managed the process until May 2003.

\subsection{Where are they now?}

Hamid Bolouri is Professor of Computational Biology at the
\href{http://www.systemsbiology.org}{Institute of Technology}.  Herbert
Sauro is an Assistant Professor at the \href{http://www.kgi.edu}{Keck
  Graduate Institute}.  Mike Hucka remains in CDS and Caltech.  Andrew
Finney is a Senior Research Fellow at the
\href{http://strc.herts.ac.uk/}{Science and Technology Research Centre at
  the University of Hertfordshire}.  Mike and Andrew are now joint
chairs/editors of the SBML process.

\subsection{Who funded the initial editorial work?}

\href{http://www.jst.go.jp/EN/}{Japan Science And Technology Corporation}'s
\href{http://www.jst.go.jp/erato/}{Exploratory Research for Advanced
  Technology program (JST ERATO)}.

\subsection{Who funded many of the SBML Forum meetings?}

UK's \href{http://www.bbsrc.ac.uk/}{Biotechnology and Biological Sciences
  Research Council}.

\section{Help}

\subsection{My question is not answered in this FAQ list. Who should I contact?}

\href{mailto:afinney\@cds.caltech.edu}{Andrew Finney}
\href{mailto:mhucka\@cds.caltech.edu}{Mike Hucka}


\end{document}
